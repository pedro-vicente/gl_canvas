#include "wx/wxprec.h"
#include "wx/wx.h"
#include "sample.xpm"

/////////////////////////////////////////////////////////////////////////////////////////////////////
//wxAppMinimal
/////////////////////////////////////////////////////////////////////////////////////////////////////

class wxAppMinimal : public wxApp
{
public:
  virtual bool OnInit() wxOVERRIDE;
};

wxIMPLEMENT_APP(wxAppMinimal);

/////////////////////////////////////////////////////////////////////////////////////////////////////
//wxFrameMinimal
/////////////////////////////////////////////////////////////////////////////////////////////////////

class wxFrameMinimal : public wxFrame
{
public:
  wxFrameMinimal(const wxString& title);
  void OnQuit(wxCommandEvent& event);
  void OnAbout(wxCommandEvent& event);
private:
  wxDECLARE_EVENT_TABLE();
};

wxBEGIN_EVENT_TABLE(wxFrameMinimal, wxFrame)
EVT_MENU(wxID_EXIT, wxFrameMinimal::OnQuit)
EVT_MENU(wxID_ABOUT, wxFrameMinimal::OnAbout)
wxEND_EVENT_TABLE()

/////////////////////////////////////////////////////////////////////////////////////////////////////
//wxAppMinimal::OnInit()
/////////////////////////////////////////////////////////////////////////////////////////////////////

bool wxAppMinimal::OnInit()
{
  if (!wxApp::OnInit())
  {
    return false;
  }
  wxFrameMinimal* frame = new wxFrameMinimal("Minimal");
  frame->Show(true);
  frame->SetSize(400, 400, 1000, 700);
  return true;
}

/////////////////////////////////////////////////////////////////////////////////////////////////////
//wxFrameMinimal::wxFrameMinimal
/////////////////////////////////////////////////////////////////////////////////////////////////////

wxFrameMinimal::wxFrameMinimal(const wxString& title)
  : wxFrame(NULL, wxID_ANY, title)
{
  SetIcon(wxICON(sample));
  wxMenu* menu_file = new wxMenu;
  menu_file->Append(wxID_EXIT, "E&xit\tAlt-X", "Quit this program");
  wxMenu* menu_help = new wxMenu;
  menu_help->Append(wxID_ABOUT, "&About\tF1", "Show about dialog");
  wxMenuBar* menu_bar = new wxMenuBar();
  menu_bar->Append(menu_file, "&File");
  menu_bar->Append(menu_help, "&Help");
  SetMenuBar(menu_bar);
  CreateStatusBar(2);
  SetStatusText("Ready");
}

/////////////////////////////////////////////////////////////////////////////////////////////////////
//wxFrameMinimal::OnQuit
/////////////////////////////////////////////////////////////////////////////////////////////////////

void wxFrameMinimal::OnQuit(wxCommandEvent& WXUNUSED(event))
{
  Close(true);
}

/////////////////////////////////////////////////////////////////////////////////////////////////////
//wxFrameMinimal::OnAbout
/////////////////////////////////////////////////////////////////////////////////////////////////////

void wxFrameMinimal::OnAbout(wxCommandEvent& WXUNUSED(event))
{
}
